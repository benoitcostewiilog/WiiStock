{% extends 'layout.html.twig' %}

{% block title %}Demande de collecte{% endblock %}

{% block page_content %}
<h1>Demande de collecte n° {{ collecte.numero }}</h1>
<div class="zone-actions row">
    <div class="col-3">
            <p>Demandeur : {{ collecte.demandeur }}</p>
            <p>Date demande : {{ collecte.date.date|date('d/m/Y') }}</p>
            <p>Date terminée : </p>
    </div>

    <div class="col-3">
            <p>Objet : {{ collecte.objet }}</p>
            <p>Statut : {{ collecte.statut.nom | capitalize }}</p>
    </div>

    <div class="col-3">

    </div>

    <div class="col-3">
        <div class="row justify-content-between">
            <a href="" data-id='#' data-target='#' data-toggle='modal'
                onclick="editRow($(this), Routing.generate('demande_edit_api', true), $('#'), $('#'))"
                class="btn btn-primary btn-action ml-auto">
                Modifier</a>
        </div>
        <div class="row justify-content-between">
            <a href="" data-id='#' data-target='#' data-toggle='modal'
                class="btn btn-danger btn-action ml-auto">
                Supprimer</a>
        </div>
        <div class="row justify-content-between">
            <a href="#" class="btn btn-success btn-action ml-auto">
                Valider</a>
        </div>
        <div class="row justify-content-between">
            <a href="" data-toggle="modal" data-target="#" class="btn btn-action ml-auto">
                Ajouter une ligne</a>
        </div>
    </div>
</div>

<table id="tableArticle_id" class="table table-striped" data-collecte-id="{{ collecte.id }}">
    <thead>
        <tr>
            <th>Référence CEA</th>
            <th>libellé</th>
            <th>Emplacement</th>
            <th>Quantité</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>

    </tbody>
</table>

{% include "collecte/modalAddArticle.html.twig" %}
{% include "collecte/modalDeleteCollecte.html.twig" %}
{% include "collecte/modalModifyArticle.html.twig" %}

{% endblock %}

{% block javascript %}
<script>
    let id = {{ collecte.id }};
</script>
<script src="{{asset('js/collecte.js')}}"></script>

{% endblock %}