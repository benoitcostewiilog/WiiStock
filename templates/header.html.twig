{% set isDashboardExt = isDashboardExt is defined and isDashboardExt %}
{% set withOnlyLogo = withOnlyLogo is defined and withOnlyLogo %}
<nav class="main-header">
    <div class="col-12">
        <div class="row align-items-center {{ withOnlyLogo ? 'justify-content-center' }}">
            <div class="col-2">
                <a href="{{ path('accueil') }}">
                    <img src="{{ asset('img/followGTwhite.svg') }}" alt="Follow GT" class="w-100"/>
                </a>
            </div>

            {% if not withOnlyLogo %}
                <div class="header-title text-white col-auto h5 user-select-none {{ isDashboardExt ? 'ext-title-font' }}">
                    {% if title is defined and title is not empty %}
                        {{ title }}
                    {% endif %}
                </div>
                {% if not isDashboardExt
                      and app.user is defined
                      and app.user
                      and app.user.username is defined %}
                    <div class="text-white col-auto h5 ml-auto">
                        <span>{{app.user.username}}</span>
                    </div>
                    <div class="text-white col-auto dropdown dropleft">
                        <div class="menu-button rounded pointer"
                             data-toggle="dropdown"
                             aria-haspopup="true"
                             aria-expanded="false">
                            <span class="icon-menu"></span>
                        </div>
                        <div class="dropdown-menu pointer mr-0">
                            {% set menuConfig = getMenuConfig() %}
                            {% for itemMenu in menuConfig %}
                                {% if itemMenu.sub is defined %}
                                    <div class="text-white dropdown dropleft " onclick="event.stopPropagation()">
                                        <div class="pointer dropdown-item dropdown-item-sub"
                                             data-toggle="dropdown"
                                             aria-haspopup="true"
                                             aria-expanded="false">
                                            {% include 'menu/menu-item.html.twig' with {
                                                label: itemMenu.label,
                                                icon: itemMenu.icon is defined ? itemMenu.icon,
                                                isTranslation: itemMenu.isTranslation is defined and itemMenu.isTranslation,
                                                showArrow: true
                                            } %}
                                        </div>
                                        <div class="dropdown-menu dropdown-menu-sub pointer">
                                            {% for itemMenuSub in itemMenu.sub %}
                                                {% include 'menu/menu-item.html.twig' with {
                                                    label: itemMenuSub.label,
                                                    icon: itemMenuSub.icon is defined ? itemMenuSub.icon,
                                                    isTranslation: itemMenuSub.isTranslation is defined and itemMenuSub.isTranslation,
                                                    url: itemMenuSub.url is defined ? itemMenuSub.url : path(itemMenuSub.path)
                                                } %}
                                            {% endfor %}
                                        </div>
                                    </div>
                                {% else %}
                                    {% include 'menu/menu-item.html.twig' with {
                                        label: itemMenu.label,
                                        icon: itemMenu.icon is defined ? itemMenu.icon,
                                        isTranslation: itemMenu.isTranslation is defined and itemMenu.isTranslation,
                                        url: itemMenu.url is defined ? itemMenu.url : path(itemMenu.path),
                                        isExtern: itemMenu.url is defined,
                                        arrowPlaceholder: true,
                                        iconPlaceholder: true
                                    } %}
                                {% endif %}
                            {% endfor %}
                        </div>
                    </div>
                {% endif %}
            {% endif %}
        </div>
    </div>
</nav>
