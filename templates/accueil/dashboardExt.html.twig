{% extends 'base.html.twig' %}

{% block body %}
<div class="wrapper pl-0 bg-primary-followgt">
    <div class="dashboard-ext">
        <input type="hidden" id="isDashboardExt" value="1"/>
        <input type="hidden" id="dashboard-name" value="{{ page }}"/>
        <div class="header-container header-ext">
            {% include 'header.html.twig' with { 'isDashboardExt': 1 } %}
        </div>
        <div class="col-12">
            <div class="col-auto pr-4 refresh-date-container little-font text-right d-none font-weight-bold">
                Actualis√© le : <span class="refreshDate"></span>
            </div>

            {% if page == 'quai' or page == 'admin' or page == 'emballage' %}
                <div id="dashboard-data" data-data="{{ pageData|json_encode() }}"></div>
                <div id="dashboard-refresh-date" data-date="{{ refreshDate }}"></div>
                {% if page == 'quai' %}
                    {% include 'accueil/dashboardDockReception.html.twig' with { 'isDashboardExt': 1 } %}
                {% elseif page == 'admin' %}
                    {% include 'accueil/dashboardAdminReception.html.twig' with { 'isDashboardExt': 1 } %}
                {% elseif page == 'emballage' %}
                    {% include 'accueil/dashboardMonitoringPackaging.html.twig' with { 'isDashboardExt': 1 } %}
                {% endif %}
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('bundles/fosjsrouting/js/router.min.js') }}"></script>
    <script src="{{ path('fos_js_routing_js', { callback: 'fos.Router.setData' }) }}"></script>

    <script
        src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
        crossorigin="anonymous"></script>

    {# moment.js #}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/locale/fr.js" charset="UTF-8"></script>
    <script>
        moment.locale('fr');
    </script>

    <script src="{{ asset('js/Chart.min.js') }}"></script>

    <script src="{{ asset('js/common.js') }}?{{ date().timestamp }}"></script>
    <script src="{{ asset('js/dashboard.js')}}?{{ date().timestamp }}"></script>
{% endblock %}
