{% extends 'layout.html.twig' %}

{% block title %}Référentiel / Articles de référence{% endblock %}

{% block page_content %}
    <h1>Articles de référence</h1>
    <div class='d-flex justify-content-end'>
        <div data-toggle="modal" data-target="#modalColumnVisible" class="btn btn-action ml-auto ">
            <i class="fas fa-cog mr-2"></i>Modifier colonnes
        </div>
        <div data-toggle="modal" data-target="#modalNewRefArticle" class="btn btn-action ml-auto ">
            <i class="fa fa-plus mr-2"></i>Nouvel article de référence
        </div>
    </div>

    <div class="row">
        <div class="col-1">
            <div type="button" class="btn btn-primary border-radius-light" data-toggle="modal" data-target="#modalNewFilter">
                <i class="fas fa-filter mr-2"></i>ajouter un filtre
            </div>

            {% for filter in filters %}
                <div class="btn filter">
                    <input hidden value="{{ filter.id }}" class="filter-id">
                    {% if filter.champFixe is not null %}
                        <i class="fas fa-times float-right"></i>
                        <span class="bold">{{ filter.champFixe | capitalize}}</span><br>
                        <span class="italic">"{{ filter.value }}"</span>
                    {% else %}
                        <i class="fas fa-times float-right"></i>
                        <span class="bold">{{ filter.champLibre.label|capitalize }}</span><br>
                        <span class="italic">"{{ filter.value }}"</span>
                    {% endif %}
                </div>
            {% endfor %}
        </div>

        <div class="col-11">
            <table id="tableRefArticle_id" class="table table-striped table-bordered" >
                <thead>
                </thead>
            </table>
        </div>
    </div>

    {% include "reference_article/modalDeleteRefArticle.html.twig" %}
    {% include "reference_article/modalEditRefArticle.html.twig" %}
    {% include "reference_article/modalNewRefArticle.html.twig" %}
    {% include "reference_article/modalNewFilter.html.twig" %}
    {% include "reference_article/modalColumnVisible.html.twig" %}

{% endblock %}
{% block javascript %}

<script src="{{ asset('js/referenceArticle.js') }}"></script>

{% endblock %}