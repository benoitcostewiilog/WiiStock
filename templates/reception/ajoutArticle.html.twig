{% extends "layout.html.twig" %}
{% block title %}Ajout d'article{% endblock %}
{% block page_content %}

    <h1>Réception</h1>


    <div class="row">
        <div class='col-3'>
            <p><strong>Statut :</strong> {{ reception.statut ? reception.statut.nom : "" }}</p>
            <p><strong>Numéro de référence :</strong> {{ reception.numeroReception }}</p>
            <p><strong>Fournisseur :</strong> {{ reception.fournisseur.nom }}</p>
            <p><strong>Commentaire :</strong> {{ reception.commentaire }}</p>
        </div>
        <div class="col-3">
            <p><strong>Date commande :</strong> {{ reception.date ? reception.date| date('d/m/Y') : ' ' }}</p>
            <p><strong>Date attendue :</strong> {{ reception.dateAttendu ? reception.dateAttendu | date('d/m/Y') : ' ' }}</p>
            <p><strong>Date réception :</strong>
                {{ reception.dateReception ? reception.dateReception | date('d/m/Y') : ' ' }}</p>
        </div>
        <div class="col-3 offset-3">
            <div class="row justify-content-between">
                <a href="{{path('reception_fin', {'id': id})}}" class="btn btn-success btn-action ml-auto">
                    Fin réception</a>
            </div>
            <div class="row justify-content-between">
                <a href="" data-id='{{ id }}' data-target='#modalModifyReception' data-toggle='modal'
                        {#onclick="editRow($(this), Routing.generate('reception_edit_api', true), $('#modalEditReception'), $('#submitEditReception'))"#}
                   class="btn btn-primary btn-action ml-auto">
                    Modifier</a>
            </div>
            {#<a href="" data-id='{{ reception.id }}' data-target='#modalEditReception' data-toggle='modal'#}
               {#onclick="editRow($(this), Routing.generate('reception_edit_api', true), $('#modalEditReception'), $('#submitEditReception'))"#}
               {#class="btn btn-primary btn-action ml-auto">#}
                {#Modifier</a>#}
            {#<a href="" data-id='{{ reception.id }}' data-target='#modalDeleteReception' data-toggle='modal'#}
               {#onclick="deleteRow($(this), $('#modalDeleteReception'), $('#submitDeleteReception'))"#}
               {#data-id='{{ reception.id }}' class="btn btn-danger btn-action ml-auto">#}
                {#Supprimer</a>#}
            <div class="row justify-content-between">
                <a href="" data-id='{{ id }}' data-target='#modalDeleteReception' data-toggle='modal' class="btn btn-danger btn-action ml-auto">
                    Supprimer</a>
            </div>
            <div class="row justify-content-between">
                <a href="" data-toggle="modal" data-target="#addArticleModal" class="btn btn-action ml-auto">
                    <span class="fa fa-plus mr-2"></span>Ajouter article
                </a>
            </div>
        </div>
    </div>

    <table id="tableArticle_id" class="table table-striped table-bordered" style="width:100%">
        <thead>
        <tr>
            <th>Libellé</th>
            <th>Référence</th>
            <th>Référence CEA</th>
            <th>Statut</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        </tbody>
    </table>

    <a href="{{ path('reception_index') }}" class='btn btn-action'>Retour à la liste</a>

    <div class="d-none">
        <img id="barcode" />
    </div>


{% include "reception/modalDeleteReception.html.twig" %}
{% include "reception/modalModifyReception.html.twig" %}
{% include "reception/modalModifyArticle.html.twig" %}
{% include "reception/modalDeleteArticle.html.twig" %}
{% include "reception/addArticleModal.html.twig" %}

{% endblock %}
{% block javascript %}
<script>
    let id = {{ reception.id }}
</script>
<script src="{{asset('js/reception.js')}}"></script>
{% endblock javascript %}