{% extends 'layout.html.twig' %}

{% block title %}Ordres de réception{% endblock %}

{% block page_content %}

<h1>
    Ordres de réception
</h1>
<div class='row'>
    <a href="" data-toggle="modal" data-target="#dataModalCenter" class="btn btn-primary float-left">
        <span class="fa fa-plus mr-2"></span>Nouvelle réception
    </a>
</div>


<div>
    <table id="table_id" class="table table-striped table-bordered w-100">
        <thead>
            <tr>
                <th>Statut</th>
                <th>Date commande</th>
                <th>Date attendue</th>
                <th>Fournisseur</th>
                <th>Référence</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
        </tbody>
    </table>
</div>

{% include "reception/modal.html.twig" %}

{% endblock %}

{% block javascript %}
<script>
    var table = $('#table_id').DataTable({
        order: [[ 1, "desc" ]],
        language: {
            "url": "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/French.json"
        },
        ajax:{ 
            "url":"{{path('reception_api')}}",
            "type": "POST"
        },
        columns: [
            { "data": 'Statut' },
            { "data": 'Date commande' },
            { "data": 'Date attendue' },
            { "data": 'Fournisseur' },
            { "data": 'Référence' },
            { "data": 'Actions' }
        ],
    });

    var dataModal = document.getElementById("dataModalCenter");
    var ButtonSubmit = document.getElementById("submitButton");
    InitialiserModal(dataModal, ButtonSubmit, "{{ path('createReception') }}");
</script>
{% endblock %}