<form method="">
    <input type="hidden"
           class="form-control data needed"
           name="type"
           required
           value="{{ type.id }}">

    <div class="form-group">
        <label for="label">Catégorie</label>
        <select name="category"
                id="categories"
                class="data form-control needed"
                onchange="typeSelectChange($(this), $('#modalEditType'))">
            {% for category in categories %}
                {% set selected = (category.id == type.category.id ? 'selected') %}
                    <option value="{{ category.id }}"
                            {{ selected }}
                            data-needs-default-locations="{{ category.label == constant('App\\Entity\\CategoryType::DEMANDE_DISPATCH') }}"
                            data-needs-send-mail="{{ category.label == constant('App\\Entity\\CategoryType::DEMANDE_LIVRAISON') }}">
                        {{ category.label }}</option>
            {% endfor %}
        </select>
    </div>

    <div class="form-group">
        <label for="username">
            Label*
        </label>
        <input type="text"
               class="form-control data needed"
               name="label"
               required=""
               value="{{ type.label }}">
    </div>

    <div class="form-group">
        <label for="username">
            Description
        </label>
        <input type="text"
               class="form-control data"
               name="description"
               value="{{ type.description }}">
    </div>
    {% set needsHide = type.category.label != constant('App\\Entity\\CategoryType::DEMANDE_LIVRAISON') %}
    <div class="form-group {{ needsHide ? 'd-none' }} send-mail">
        <label>Envoi de mails au demandeur ?</label>
        <label class="switch">
            <input class="checkbox"
                   type="checkbox"
                   name="sendMail" {{ type.sendMail ? 'checked' }}>
            <span class="slider round"></span>
        </label>
    </div>

    {% set needsHide = type.category.label != constant('App\\Entity\\CategoryType::DEMANDE_DISPATCH') %}
    <div class="form-group {{ needsHide ? 'd-none' }} needs-default-locations">
        <label for="prise">Emplacement de prise par défaut</label>
        <select name="prise" class="form-control data ajax-autocomplete-location d-block location-prise w-100" id="prise">
            {% if type.pickLocation %}
                <option value="{{ type.pickLocation.id }}">{{ type.pickLocation.label }}</option>
            {% endif %}
        </select>
    </div>
    <div class="form-group {{ needsHide ? 'd-none' }} needs-default-locations">
        <label for="depose">Emplacement de dépose par défaut</label>
        <select name="depose" class="form-control data ajax-autocomplete-location d-block location-prise w-100" id="depose">
            {% if type.dropLocation %}
                <option value="{{ type.dropLocation.id }}">{{ type.dropLocation.label }}</option>
            {% endif %}
        </select>
    </div>
</form>
