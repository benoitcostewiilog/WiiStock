{% extends 'layout.html.twig' %}

{% block title %}Param√©trage | Statuts{% endblock %}

{% block page_filter %}
    {% include 'filters/filtersStatuts.html.twig' with {
        'page': 'PAGE_STATUS',
        'tableSelector': '#tableStatus'
    } %}
{% endblock %}

{% block page_content %}
    <input type="hidden" id="categoryStatusDispatchId" value="{{ categoryStatusDispatchId }}"/>
    <input type="hidden" id="categoryStatusHandlingId" value="{{ categoryStatusHandlingId }}"/>
    <input type="hidden" id="categoryStatusArrivalId" value="{{ categoryStatusArrivalId }}"/>
    <div class="m-4 wii-page-card">
        <div class="row wii-page-card-header">
            <div class="col-auto ml-auto">
                <button data-toggle="modal"
                        data-target="#modalNewStatus"
                        class="btn btn-primary btn-ripple"
                        onclick="hideOptionOnChange($('#modalNewStatus'))">
                    <span class="fa fa-plus mr-2"></span>Nouveau statut
                </button>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <table id="tableStatus" class="table w-100"></table>
            </div>
        </div>
    </div>

    {% include 'status/modalNewStatus.html.twig' with {
        categories: categories,
        types: types
    } %}
    {% include 'status/modalEditStatus.html.twig' %}
    {% include 'status/modalDeleteStatus.html.twig' %}

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/status.js') }}?{{ date().timestamp }}"></script>
{% endblock %}
