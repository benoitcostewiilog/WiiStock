{% extends 'layout.html.twig' %}

{% block title %}Inventaire
    {{ inventaire.id }}
{% endblock %}

{% block page_content %}

    <div class="row page-title">
        {{ inventaire.libelle }}
    </div>

    <div class="resume">
        <fieldset class="well list-box">
            <legend class="well-legend">Resumé</legend>
            <p class="pull-right">Dernière modification faite par : Mr. Le Fur</p>
            <p>
                Inventaire annuel, du
                {{ inventaire.dateDebut ? inventaire.dateDebut|date('Y-m-d') : '' }}
                au
                {{ inventaire.dateFin ? inventaire.dateFin|date('Y-m-d') : '' }}
            </p>
            <div class="progress">
                <div class="progress-blue progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:{{ inventaire.avancement }}%">
                    {{ inventaire.avancement }}% en cours..
                </div>
            </div>
        </fieldset>
    </div>

    <table id="grid-data" class="table table-condensed table-hover table-striped">
        <thead>
            <tr>
                <th data-column-id="ref">Réf. article</th>
                <th data-column-id="sku">SKU</th>
                <th data-column-id="libelle">Libellé</th>
                <th data-column-id="qte">Qté</th>
                <th data-column-id="state" data-formatter="state">Etat</th>
                <th data-column-id="commands" data-formatter="commands" data-sortable="false">Détail</th>
            </tr>
        </thead>

        <tr>
            <td>136737541</td>
            <td>251</td>
            <td>Iphone 1</td>
            <td>41</td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>136737542</td>
            <td>252</td>
            <td>Iphone 2</td>
            <td>42</td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>136737543</td>
            <td>253</td>
            <td>Iphone 3</td>
            <td>43</td>
            <td></td>
            <td></td>
        </tr>
        <tr>
            <td>136737544</td>
            <td>254</td>
            <td>Iphone 4</td>
            <td>44</td>
            <td></td>
            <td></td>
        </tr>
    </table>

    {# <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ inventaire.id }}</td>
            </tr>
            <tr>
                <th>Libelle</th>
                <td>{{ inventaire.libelle }}</td>
            </tr>
            <tr>
                <th>Avancement</th>
                <td>{{ inventaire.avancement }}</td>
            </tr>
            <tr>
                <th>Date_debut</th>
                <td>{{ inventaire.dateDebut ? inventaire.dateDebut|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
            <tr>
                <th>Date_fin</th>
                <td>{{ inventaire.dateFin ? inventaire.dateFin|date('Y-m-d H:i:s') : '' }}</td>
            </tr>
        </tbody>
    </table>

    <a href="{{ path('inventaires_index') }}">back to list</a>

    <a href="{{ path('inventaires_edit', {'id': inventaire.id}) }}">edit</a>

    {{ include('inventaires/_delete_form.html.twig') }} #}

    <div class="row">
        <div class="col-md-12">
            <a href="#" class="button btn-left pull-left">
                <span class="fa fa-angle-double-left"></span>Retour</a>
        </div>
    </div>

{% endblock %}

{% block javascripts %}
    <script type="text/javascript">
        var grid = $("#grid-data").bootgrid({
            ajax: false,
            /*
    post: function ()
    {
        return {
            id: "b0df282a-0d67-40e5-8558-c9e93b7befed"
        };
    },
    url: "{{ path('stock') }}",
	*/
            formatters: {
                "commands": function (column, row) {
                    return "<button type=\"button\" class=\"btn btn-xs btn-default command-view\" data-row-id=\"" + row.id + "\"><span class=\"fa fa-eye\"></span></button> "
                },
                "state": function (column, row) {
                    return "<p class=\"state-waiting\">En attente..</p>"
                    {# return "<p class=\"state-error\">Ecart de quantité</p>" #}
                    {# return "<p class=\"state-good\">Validé</p>" #}
                }
            }
        })
    </script>
{% endblock %}