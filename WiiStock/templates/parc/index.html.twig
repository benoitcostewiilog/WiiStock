{% extends 'layout.html.twig' %}

{% block title %}Liste des parcs{% endblock %}

{% block page_content %}

    <div class="row backgray filter-wrapper">
        <form class="form-inline">
            <div class="form-group">
                <select class="form-control">
                    <option>Actif</option>
                    <option>Demande création</option>
                    <option>Sorti</option>
                    <option>Demande sortie/transfert</option>
                </select>
            </div>
            <div class="form-group">
                <select class="form-control">
                    <option>Site1</option>
                    <option>Site2</option>
                    <option>Site3</option>
                </select>
            </div>
            <div class="form-group">
                <input type="search" class="form-control" placeholder="Immatriculation/numéro de série">
            </div>
            <a class="btn more-filter">Plus de filtres</a>
            <a href="#" class="button btn-right">
                Filtrer<span class="fa fa-angle-double-right"></span></a>
        </form>
    </div>

    <div class="row page-title">
        LISTE DES PARCS
    </div>

    <table id="grid-data" class="table table-condensed table-hover table-striped">
        <thead>
            <tr>
                <th data-column-id="nparc">Numéro Parc</th>
                <th data-column-id="etat">Etat</th>
                <th data-column-id="nserie">Numéro de série/immatriculation</th>
                <th data-column-id="marque">Marque</th>
                <th data-column-id="site">Site</th>
                <th data-column-id="commands" data-formatter="commands" data-sortable="false">Détail</th>
            </tr>
        </thead>

        {# <tr>
            <td>136737541</td>
            <td>Actif</td>
            <td>13JF4F</td>
            <td>Volvo</td>
            <td>Isover/Chemille</td>
            <td></td>
        </tr>
        <tr>
            <td>136737541</td>
            <td>Sorti</td>
            <td>13JF4F</td>
            <td>Volvo</td>
            <td>Isover/Chemille</td>
            <td></td>
        </tr>
        <tr>
            <td>136737541</td>
            <td>Demande création</td>
            <td>13JF4F</td>
            <td>Volvo</td>
            <td>Isover/Chemille</td>
            <td></td>
        </tr>
        <tr>
            <td>136737541</td>
            <td>Demande transfert/sortie</td>
            <td>13JF4F</td>
            <td>Volvo</td>
            <td>Isover/Chemille</td>
            <td></td>
        </tr> #}
    </table>

    <div class="row">
        <div class="col-md-12">
            <a href="#" class="button btn-left pull-left">
                <span class="fa fa-angle-double-left"></span>Retour</a>
            <a href="#" class="button btn-left pull-right">
                <span class="fa fa-cloud-download"></span>Télécharger</a>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <script type="text/javascript">
        var grid = $("#grid-data").bootgrid({
            ajax: true,
	       post: function ()
            {
                return {
                    id: "b0df282a-0d67-40e5-8558-c9e93b7befed"
                };
            },
            url: "parc/list",
            formatters: {
                "commands": function (column, row) {
                    return "<button type=\"button\" class=\"btn btn-xs btn-default command-view\" data-row-id=\"" + row.id + "\"><span class=\"fa fa-pencil\"></span></button> "
                }
            }
        }).on("loaded.rs.jquery.bootgrid", function () {
            /* Executes after data is loaded and rendered */
            grid.find(".command-view").on("click", function (e) {
                window.location.href = "#"
            })
        });
        
    </script>


{% endblock %}